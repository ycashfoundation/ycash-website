<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="../y_sign.png"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.0"><title>Diversified Addresses - Ycash&trade;</title><link rel="stylesheet" href="../assets/stylesheets/application.4031d38b.css"><script src="../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=swap"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../assets/fonts/material-icons.css"></head><body dir="ltr"><svg class="md-svg"><defs></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#diversified-addresses" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href=".." title="Ycash&trade;" class="md-header-nav__button md-logo"><img src="../y_sign.png" width="24" height="24"></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">Ycash&trade;</span><span class="md-header-nav__topic">Diversified Addresses</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href=".." title="Ycash&trade;" class="md-nav__button md-logo"><img src="../y_sign.png" width="48" height="48"></a>Ycash&trade;</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href=".." title="Home" class="md-nav__link">Home</a></li><li class="md-nav__item"><a href="../download/" title="Download" class="md-nav__link">Download</a></li><li class="md-nav__item"><a href="../about/" title="About" class="md-nav__link">About</a></li><li class="md-nav__item"><a href="../the_fork/" title="The Fork" class="md-nav__link">The Fork</a></li><li class="md-nav__item"><a href="../get_involved/" title="Get Involved" class="md-nav__link">Get Involved</a></li><li class="md-nav__item"><a href="../blog/" title="Blog" class="md-nav__link">Blog</a></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked><label class="md-nav__link" for="nav-7">Documentation</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-7">Documentation</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../docs/" title="Ycashd and YecWallet" class="md-nav__link">Ycashd and YecWallet</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Diversified Addresses</label><a href="./" title="Diversified Addresses" class="md-nav__link md-nav__link--active">Diversified Addresses</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#what-are-diversified-addresses" title="What are diversified addresses?" class="md-nav__link">What are diversified addresses?</a></li><li class="md-nav__item"><a href="#what-are-the-uses-for-diversified-addresses" title="What are the uses for diversified addresses?" class="md-nav__link">What are the uses for diversified addresses?</a></li><li class="md-nav__item"><a href="#how-do-i-use-diversified-addresses" title="How do I use diversified addresses?" class="md-nav__link">How do I use diversified addresses?</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#z_getnewdiversifiedaddress" title="z_getnewdiversifiedaddress" class="md-nav__link">z_getnewdiversifiedaddress</a></li><li class="md-nav__item"><a href="#z_getalldiversifiedaddresses" title="z_getalldiversifiedaddresses" class="md-nav__link">z_getalldiversifiedaddresses</a></li></ul></nav></li><li class="md-nav__item"><a href="#what-are-the-pros-and-cons-of-using-diversified-addresses" title="What are the Pros and Cons of using diversified addresses?" class="md-nav__link">What are the Pros and Cons of using diversified addresses?</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#pros" title="PROs" class="md-nav__link">PROs</a></li><li class="md-nav__item"><a href="#cons" title="CONs" class="md-nav__link">CONs</a></li></ul></nav></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="../foundation/" title="Foundation" class="md-nav__link">Foundation</a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#what-are-diversified-addresses" title="What are diversified addresses?" class="md-nav__link">What are diversified addresses?</a></li><li class="md-nav__item"><a href="#what-are-the-uses-for-diversified-addresses" title="What are the uses for diversified addresses?" class="md-nav__link">What are the uses for diversified addresses?</a></li><li class="md-nav__item"><a href="#how-do-i-use-diversified-addresses" title="How do I use diversified addresses?" class="md-nav__link">How do I use diversified addresses?</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#z_getnewdiversifiedaddress" title="z_getnewdiversifiedaddress" class="md-nav__link">z_getnewdiversifiedaddress</a></li><li class="md-nav__item"><a href="#z_getalldiversifiedaddresses" title="z_getalldiversifiedaddresses" class="md-nav__link">z_getalldiversifiedaddresses</a></li></ul></nav></li><li class="md-nav__item"><a href="#what-are-the-pros-and-cons-of-using-diversified-addresses" title="What are the Pros and Cons of using diversified addresses?" class="md-nav__link">What are the Pros and Cons of using diversified addresses?</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#pros" title="PROs" class="md-nav__link">PROs</a></li><li class="md-nav__item"><a href="#cons" title="CONs" class="md-nav__link">CONs</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><h1 id="diversified-addresses">Diversified Addresses</h1>
<h2 id="what-are-diversified-addresses">What are diversified addresses?</h2>
<p>Diversified addresses are a feature of Sapling addresses that let you generate multiple Sapling addresses from the same private key. That is, a single Sapling spending or viewing key can create 1000s of Sapling addresses. These addresses are called "diversified addresses".</p>
<p>Diversified addresses are indistinguishable from regular addresses. In addition, they are also unlinkable&mdash;that is, it is not possible to identify two addresses as diversified, without having access to their private keys.</p>
<h2 id="what-are-the-uses-for-diversified-addresses">What are the uses for diversified addresses?</h2>
<p>Generally, it is a good idea to hand out a unique address to each party you are transacting with, so that even if they collude, they will not be able to link all your addresses together. For example, you might want to give out a different address to each exchange you interact with.</p>
<p>While you can generate regular addresses, each time you generate a new address, you need to take care to backup its private key.</p>
<p>This process is especially problematic if you are using an address from a paper wallet, as it might be too expensive or time consuming to generate a new paper address.</p>
<p>With diversified addresses, you can simply generate a new address each time you want to give someone your Sapling address, without having to worry about backing up the private key.</p>
<h2 id="how-do-i-use-diversified-addresses">How do I use diversified addresses?</h2>
<p>ycashd 2.0.6 introduces two new RPC calls to manage diversified addresses. <code>z_getnewdiversifiedaddress</code> and <code>z_getalldiversifiedaddresses</code>.</p>
<h4 id="z_getnewdiversifiedaddress"><code>z_getnewdiversifiedaddress</code></h4>
<p>This RPC call will generate a new diversified address from an existing Sapling address. Remember that both of these addresses will share the same private key (both spending key and viewing key).</p>
<pre><code>$ ./ycash-cli z_getnewdiversifiedaddress ys179dzraxjvg9hhsdny0582v4ngrmh9fgmdnwq7rcnessfdfcsktyxshzzjpjvdyslkchnqnxfnml

ys16eu760jpej3keda4crmcmsj3ef2wyrfj7uy8gd9qrzfwfwrggjnevnf75ywer59gqwes7l7mtnw
</code></pre>

<p>This will generate a new address that shares the same private key as the address you supplied, and will add the new address into your wallet.</p>
<h4 id="z_getalldiversifiedaddresses"><code>z_getalldiversifiedaddresses</code></h4>
<p>This RPC call will get all the diversified addresses that the given address is associated with. You can call this RPC call with any sapling address, and it will return all the other addresses in the wallet that share the same private key with the given address. That is, it will return all the diversified addresses associated with the given address.</p>
<pre><code>$ ./ycash-cli z_getalldiversifiedaddresses ys179dzraxjvg9hhsdny0582v4ngrmh9fgmdnwq7rcnessfdfcsktyxshzzjpjvdyslkchnqnxfnml
[
  &quot;ys1k33cd4r4jm44fvzypdtq970k555jlpeq483xdj8h7km3gg6lnpdm24pctq7evhnkwuptvy57z6v&quot;,
  &quot;ys179dzraxjvg9hhsdny0582v4ngrmh9fgmdnwq7rcnessfdfcsktyxshzzjpjvdyslkchnqnxfnml&quot;
]
</code></pre>

<p>Note that diversified addresses don't have a "master" address or "sub-addresses". All of them are peer addresses associated with the same private key. Which means you can call <code>z_getalldiversifiedaddresses</code> with any of the diversified address to get the full set of diversified addresses that share the same private key.</p>
<h2 id="what-are-the-pros-and-cons-of-using-diversified-addresses">What are the Pros and Cons of using diversified addresses?</h2>
<h4 id="pros">PROs</h4>
<ul>
<li>Generate essentially an infinite number of addresses from the same private key</li>
<li>No need to backup private keys when generating new diversified addresses</li>
<li>Makes it easy to give each party you inteact with a new address</li>
</ul>
<h4 id="cons">CONs</h4>
<ul>
<li>All the diversified addresses share the same private key, so you can't for example, disclose the viewing key for just one address. If you give out the viewing key for one addresses, all the diversified addresses associated with that key will become visible.</li>
<li>In the event that zk-SNARKs (the technology underlying Sapling shielded addresses) are ever broken, an attacker might be able to craft some interactive attacks which may make it possible to link together diversified addresses. There is a plan to address this in future releases. Please see: <a href="https://github.com/zcash/zcash/issues/3719">Zcash Issue #3719</a>.</li>
</ul></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../docs/" title="Ycashd and YecWallet" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Previous</span>Ycashd and YecWallet</span></div></a><a href="../foundation/" title="Foundation" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Next</span>Foundation</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright">powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div><div class="md-footer-social"><link rel="stylesheet" href="../assets/fonts/font-awesome.css"> <a href="https://twitter.com/YcashFoundation" class="md-footer-social__link fa fa-twitter"></a>  <a href="https://reddit.com/r/ycashtalk" class="md-footer-social__link fa fa-reddit"></a>  <a href="https://github.com/YcashFoundation/ycash/" class="md-footer-social__link fa fa-github"></a> </div></div></div></footer></div><script src="../assets/javascripts/application.b260a35d.js"></script><script>app.initialize({version:"1.0.4",url:{base:".."}})</script></body></html>